# Signal-360 Edge Functions Environment Variables
# Copy this file to .env.local and fill in the actual values

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================

# Supabase Project URL
SUPABASE_URL=https://your-project.supabase.co

# Supabase Anonymous Key (public key for client-side operations)
SUPABASE_ANON_KEY=your-anon-key-here

# Supabase Service Role Key (private key for server-side operations)
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# =============================================================================
# ENCRYPTION CONFIGURATION
# =============================================================================

# Encryption key for API key storage (must be 32+ characters)
ENCRYPTION_KEY=your-32-character-encryption-key-here

# Key rotation schedule (days)
KEY_ROTATION_DAYS=90

# =============================================================================
# EXTERNAL API CONFIGURATION
# =============================================================================

# Google Finance API Configuration
GOOGLE_API_KEY=your-google-api-key-here
GOOGLE_API_TIMEOUT=30000
GOOGLE_API_RETRY_ATTEMPTS=3

# Market Data API Configuration
MARKET_DATA_API_URL=https://api.marketdata.com
MARKET_DATA_API_KEY=your-market-data-api-key
MARKET_DATA_TIMEOUT=25000

# ESG Data API Configuration
ESG_API_URL=https://api.esgdata.com
ESG_API_KEY=your-esg-api-key
ESG_API_TIMEOUT=30000

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================

# Cache Configuration
CACHE_ENABLED=true
CACHE_MAX_SIZE=1000
CACHE_DEFAULT_TTL=600000
CACHE_MAX_MEMORY_MB=100

# Connection Pool Configuration
CONNECTION_POOL_ENABLED=true
CONNECTION_POOL_MAX_SIZE=10
CONNECTION_POOL_MIN_SIZE=2
CONNECTION_POOL_TIMEOUT=5000

# Request Batching Configuration
REQUEST_BATCHING_ENABLED=true
REQUEST_BATCH_SIZE=10
REQUEST_BATCH_TIMEOUT=100

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================

# Rate Limiting Configuration
RATE_LIMITING_ENABLED=true
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST_SIZE=10

# CORS Configuration
CORS_ALLOWED_ORIGINS=https://signal-360.com,https://app.signal-360.com
CORS_ALLOWED_METHODS=GET,POST,OPTIONS
CORS_ALLOWED_HEADERS=Authorization,Content-Type,x-client-info

# Security Headers
SECURITY_HEADERS_ENABLED=true
CONTENT_SECURITY_POLICY=default-src 'none'; script-src 'self'

# =============================================================================
# LOGGING AND MONITORING
# =============================================================================

# Log Level (DEBUG, INFO, WARN, ERROR)
LOG_LEVEL=INFO

# Structured Logging
STRUCTURED_LOGGING=true
LOG_SENSITIVE_DATA=false

# Performance Monitoring
PERFORMANCE_MONITORING_ENABLED=true
SLOW_OPERATION_THRESHOLD_MS=1000

# Error Tracking
ERROR_TRACKING_ENABLED=true
ERROR_SAMPLING_RATE=1.0

# =============================================================================
# ENVIRONMENT SPECIFIC
# =============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Feature Flags
FEATURE_CACHING=true
FEATURE_BATCHING=true
FEATURE_MONITORING=true
FEATURE_COMPRESSION=false

# Debug Configuration
DEBUG_MODE=false
VERBOSE_LOGGING=false

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database Connection Pool
DB_POOL_SIZE=10
DB_POOL_TIMEOUT=5000
DB_QUERY_TIMEOUT=30000

# Database Retry Configuration
DB_RETRY_ATTEMPTS=3
DB_RETRY_DELAY=1000

# =============================================================================
# ANALYSIS CONFIGURATION
# =============================================================================

# Analysis Timeouts (milliseconds)
FUNDAMENTAL_ANALYSIS_TIMEOUT=60000
TECHNICAL_ANALYSIS_TIMEOUT=60000
ESG_ANALYSIS_TIMEOUT=60000
SYNTHESIS_TIMEOUT=30000

# Analysis Weighting (investment context)
INVESTMENT_FUNDAMENTAL_WEIGHT=0.5
INVESTMENT_TECHNICAL_WEIGHT=0.2
INVESTMENT_ESG_WEIGHT=0.3

# Analysis Weighting (trading context)
TRADING_FUNDAMENTAL_WEIGHT=0.25
TRADING_TECHNICAL_WEIGHT=0.6
TRADING_ESG_WEIGHT=0.15

# =============================================================================
# EXTERNAL SERVICE LIMITS
# =============================================================================

# API Rate Limits (requests per minute)
GOOGLE_API_RATE_LIMIT=1000
MARKET_DATA_API_RATE_LIMIT=500
ESG_API_RATE_LIMIT=100

# Circuit Breaker Configuration
CIRCUIT_BREAKER_ENABLED=true
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60000

# =============================================================================
# DEVELOPMENT ONLY
# =============================================================================

# Mock Data (development only)
USE_MOCK_DATA=false
MOCK_API_DELAY=100

# Testing Configuration
TEST_MODE=false
TEST_USER_ID=test-user-id
TEST_API_KEY=test-api-key